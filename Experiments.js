(function(swcHelpers,entities,metro,patcher){'use strict';function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n["default"]=e;return Object.freeze(n)}var swcHelpers__namespace=/*#__PURE__*/_interopNamespace(swcHelpers);var Experiments=function(Plugin1){swcHelpers__namespace.inherits(Experiments,Plugin1);var _super=swcHelpers__namespace.createSuper(Experiments);function Experiments(){swcHelpers__namespace.classCallCheck(this,Experiments);return _super.apply(this,arguments)}var _proto=Experiments.prototype;_proto.start=function start(){return swcHelpers__namespace.asyncToGenerator(function*(){patcher.before(metro.UserStore,"getCurrentUser",ctx=>{var User=metro.getByProps("isDeveloper");if(User.isDeveloper)return;var STAFF=metro.getByProps("UserFlags").STAFF;var Nodes=Object.values(User._dispatcher._actionHandlers._dependencyGraph.nodes);AliuHermes.unfreeze(User);Object.defineProperty(User,"isDeveloper",{get:()=>true,configurable:false});metro.UserStore.getCurrentUser().flags|=STAFF;Nodes.find(n=>n.name=="ExperimentStore").actionHandler["OVERLAY_INITIALIZE"]({user:{flags:STAFF},type:"CONNECTION_OPEN"});Nodes.find(n=>n.name=="DeveloperExperimentStore").actionHandler["OVERLAY_INITIALIZE"]();});})()};return Experiments}(swcHelpers__namespace.wrapNativeSuper(entities.Plugin));return Experiments;})(swcHelpers,globalThis.aliucord.entities,globalThis.aliucord.metro,globalThis.aliucord.utils.patcher);